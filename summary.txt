問題の目的
あなたは画家のアシスタントとして、指定された H種類（H=1000固定）の色を、決められた順番通りに1グラムずつ作成し、画家に渡します。目標は、使用する絵の具の無駄をできるだけ少なく（コストを低く）、かつ作成する色を目標の色にできるだけ近づける（誤差を小さく）ことです。
色の表現と混合
色はシアン(C)、マゼンタ(M)、イエロー(Y)の3成分からなるベクトル (C,M,Y) で表され、各成分は0以上1以下の実数値です。
絵の具を混ぜる際は、それぞれの絵の具の量で加重平均した色と量になります。
資材とパレット
チューブ絵の具: K種類のチューブ絵の具を持っており、それぞれ特定の色を持っています。チューブから絵の具を1グラム使うごとにコスト D がかかります。
パレット: N×Nマス（N=20固定）の格子状パレットを使用します。
ウェル: パレットのマスは、隣接マスとの間の仕切りを開閉することで連結できます。連結したマスの集合を「ウェル」と呼びます。
1つのウェルには1種類の色しか入れられません。
kマスからなるウェルには最大kグラムの絵の具を入れられます。
操作
最大Tターンまで、以下のいずれかの操作を1ターンに1回行えます。
チューブから絵の具を追加: ウェルにチューブから1グラム絵の具を追加します。ウェルの残り容量が1グラム未満の場合、容量分だけが混ざり、残りは廃棄されます。（コスト D 発生）
画伯に絵の具を渡す: ウェルから1グラムの絵の具を取り出し画伯に渡します。これはちょうどH回行わなければなりません。
絵の具を廃棄: ウェルから1グラム（またはそれ未満なら全て）の絵の具を廃棄します。
仕切り操作: 隣接する2マス間の仕切りを開閉します。
合併: 仕切りを開けて2つのウェルが1つになると、中の絵の具は混ざり合います。
分割: 仕切りを閉じて1つのウェルが2つになると、元の絵の具は新しいウェルの容量に比例して分割されます。
スコア
スコアは以下の式で計算され、小さいほど良い評価となります。
スコア = 1 + D * (チューブから出した総量 - H) + round(10^4 * 色誤差の総和)
ここで、色誤差は、各目標色と実際に渡した色の各成分の差の二乗和のsqrtをとったものです。
すなわち
E= \sum_{i=0}^H sqrt((C_i-C^T_i)^2+(M_i-M^T_i)^2+(Y_i-Y^T_i)^2)
入出力
入力: パレットサイズN、チューブ絵の具の種類数K、作成色数H、最大ターン数T、チューブコストD、各チューブ絵の具の色、各目標色。
出力:
パレットの初期の仕切り状態（全ての縦仕切りと横仕切りの開閉状態）。
最大Tターン分の操作内容。
課題の核心
限られたターン数とパレットスペースの中で、どのチューブ絵の具を、どのウェルで、どのタイミングで混合・保管し、目標の色を効率的かつ正確に生成していくか、という戦略を立てることが求められます。特に、絵の具の無駄を減らしつつ、色の精度を高めるバランスが重要です。